

## 工具类
>1、参考官网实例 <a href="https://velocity.apache.org/tools/releases/2.0/generic.html" target="view_window">velocity tools</a>  
>2、可以自定义工具类  
>3、首先必须在`web.xml` 中添加：      
~~~
<init-param> 
<param-name>org.apache.velocity.toolbox</param-name>   
<param-value>/WEB-INF/toolbox.xml</param-value>        
</init-param>
~~~    
>或与`spring`整合才可以使用`toolbox.xml`中定义的变量。 


>`Tool`在`Velocity`中便是一个可以在模板中全局使用的对象。常用的有`$errors, $date, $text`   
`$errors`: 用于读取在request中保存的错误提示信息(如密码错了等等),可这样用：  

~~~
	#foreach ($e in $errors.all )
        <li>$e</li>
	#end
~~~

###自带工具类
#### $date DateTool - 时间格式化
~~~
$date 									2008-04-22
$date.long 								2008年4月22日下午10时58分54秒
$date.medium_time 						22:58:54
$date.full_date 						2008年4月22日星期二
$date.yyyy								2008
$date.get('default','short') 			2008-4-22 下午10:58
$date.get('yyyy-M-d H:m:s') 				2008-4-22 22:58:54
$date.whenIs('2008-04-20') 				2 days 22 hours ago
$date.whenIs('2008-04-20').full 			2 days 22 hours 58 minutes 54 seconds 484 milliseconds ago
$date.whenIs('2008-04-20').days 			-2
$date.whenIs('2008-04-20') 				22 hours 58 minutes ago
$date.whenIs('2008-04-20','2008-04-20') same time
$date.difference('2008-04-20', '2008-04-20') 2 days
$date.whenIs('2008-04-20').days 			-2
$date.format('yyyy-MM-dd', $post.lastModified)  
~~~

#### $Number  NumberTool - 数字格式化
~~~~
$number.locale 						zh_CN
$number.format("35") 				35.0
$number.integer("35.47") 			35
$number.number("35.47") 			35.47
$number.percent("0.3547") 			35%
$number.toNumber("35.47") 			35.47
$number.format("#0.00", 35.5659) 	35.56 保留两位小数
~~~~

#### $math MathTool - 数学公式
~~~
$math.add("10","4") 		14
$math.sub("100","20") 		80
$math.mul("11","7") 		77
$math.div("100","5") 		20
$math.idiv("100","5") 		20
$math.pow("2","5") 			32
$math.mod("13","5") 		3
$math.max("99","16") 		99
$math.min("99","16") 		16
$math.abs("-99") 			99
\$math.cell("99.26") 		$math.cell("99.26")
$math.floor("99.26") 		99
$math.random 				0.7663665545444911
$math.random("1","10") 		2
$math.roundTo("2","5") 		5.0
$math.toInteger("15") 		15
$math.toDouble("15") 		15.0
$math.toNumber("15") 		15
~~~

#### #sorter SortTool - 排序
~~~~
$sorter.sort(['d','a','b','c'])				[a, b, c, d]      
$sorter.sort([5,1,12,3])            		[1, 3, 5, 12]           
~~~~

#### $esc  EscapeTool 
~~~
$esc						org.apache.velocity.tools.generic.EscapeTool@e09a07
$esc.b						/
$esc.backslash				/
$esc.d						$
$esc.dollar					$
$esc.e						!
$esc.exclamation			!
$esc.h						#
$esc.hash					#
$esc.q						"
$esc.quote					"
/esc.s						esc.s
$esc.singleQuote			'
$esc.html("$esc.backslash")	/
~~~

#### $text ResourceTool - 国际化信息 即 读取属性文件值
~~~~
$text.foo                      ->  bar
$text.hello.world              ->  Hello World!
$text.keys                     ->  [foo, hello.world, world]
#set( $otherText = $text.bundle('otherBundle') )
$otherText.foo                 ->  woogie
$otherText.bar                 ->  The args are {0} and {1}.
$otherText.bar.insert(4)       ->  The args are 4 and {1}.
$otherText.bar.insert(4,true)  ->  The args are 4 and true.
$text.get("inbox")  
~~~~

#### 其他工具
~~~~
AlternatorTool 
ClassTool 
ContextTool 
ConversionTool 
DisplayTool
FieldTool 
LoopTool 
LinkTool 
ListTool
RenderTool 
XmlTool 
~~~~