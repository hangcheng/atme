##基本语法 
>标识符: #(表示脚本)、 $（表示对象）、 {}(表示变量)、  !(表示对象或变量不存在则强制为空) 

>单行注释: ## XXX
>
>多行注释: #* xxx   
>xxxxxxxxxxxx*#


###简介
~~~~
 # ：
	#set、#if 、#else、#end、#foreach、#end、#iinclude、#parse、#macro

 $ :
	eg：$username 、$user.name、$user.getName()
	注：$user.name  与  $user.getName()  结果一样

 {} :
	eg：${username}、${user.name} 必须为变量、属性或方法
		可以拼接字符串：${username}-u 输出为:sun-u

 ! :
	是很常用的标识符，是替代#if存在的
	即  $与$!的区别
	当找不到username的时候，$username返回字符串"$username"，而$!username返回空字符串"" 

 == && || !  
	逻辑运算 不多说

 '' 与 "" ：
	单引号与双引号 没有设置的情况下 存在区别
	''会作为字符串输出
	""会取出相应的值
	设置后消除区别：stringliterals.interpolate=false
~~~~

###语法
#### #if 判断语句
> `#if #elseif #else #end ` 组合

~~~~
	#if($!state==0)  
		成功
	#elseif($!state==1) 
		不存在
	#else
		失败
　　#end  
~~~~

#### #foreach 循环语句
~~~
eg1:	#foreach( $user in $userList)  
			$!user.name
		#end  

eg2:	#foreach( $foo in [1..10] )  
			$foo
		#end
注：[1..10] 表示 1-10 的数组
~~~

#### $velocityCount 索引值
>velocity 默认指定的变量名称 #foreach时候用  
默认情况下，计数从“1”开始，但是你可以在 velocity.properties 设置它是从“1”还是从
“0”开始。


#### #break 中断
>可用于中断 #foreach() 循环

#### #set 声明
> 尽量少使用 #set 

~~~
eg1:声明序号变量
	#set($i=0)  
	#foreach($info in $list)  
		序号:$i  
		#set($i=$i+1)  
	#end

eg2:声明字符串变量 或 数组变量
	#set($var=XXX)  

	#set($arr=["a","b"])  
输出：$arr.get(1)

	#set($obj = {"key":"value", "name":"space"})
输出：$obj.get("key")
~~~

#### #parse 导入模板 
>即 嵌入动态内容   
>可以把另外一个 velocity文件导入本文件中
~~~
eg:
	#parse("index.vm" )  
~~~

#### #include 包含 
>即 嵌入静态内容   
>与 #parse 区别在于 parse是包含velocity语法  include不可以包含velocity语法  

~~~
eg:
	#include( "one.gif","two.txt","three.htm" )  
~~~

#### #stop 停止
> 停止执行并返回  在 `Debug` 时比较有用

#### #macro 宏定义
>定义宏Velocimacros ,相当于函数 支持包含功能  

~~~
eg1:
	#macro( d )  
		<tr><td></td></tr>  
	#end  
调用: 
	#d()

eg2:
	#macro( tablerows $color $somelist )  
		#foreach( $something in $somelist )  
			<tr><td bgcolor=$color>$something</td></tr>  
		#end  
	#end  
调用: 
	#tablerows(color somelist)
~~~

#### #define 定义脚本
~~~
类似于 C 语言的 #define 命令。

    #define($hello)
        Hello ${who}!
    #end
    #set($who = "World")

    $hello
    ## 显示 "Hello World!"
~~~

#### #evaluate	动态执行指令
~~~
动态执行一串字符串的值：
	#evaluate('string with VTL #if(true)will be displayed#end')
~~~

#### #[[  ]]#  不解析执行
>指定不解析执行的内容

~~~~
#[[
    这段内容将不被 Velocity 引擎解析，原文打出。
    * #define()
    * ${test}
]]#
~~~~

#### 内置对象
>即 `$request、 $response、 $session` 直接使用

~~~
eg1: $request.getCookies()；
eg2: #set($n = $!request.getParameter('userid')) 直接获得URL参数
~~~

#### \ 转义 
~~~
#set($foo="bar")
$foo                            输出             bar
\$foo                           输出             $foo
\\$foo                          输出             \bar
\\\$foo                         输出             \$foo
~~~

#### spring宏定义
>`spring`默认定义`velocity`宏,可以直接使用 详情参考`spring`篇